<div class="row registerBox">
    <h4 class="logo text-center"><img src="/images/renzheng/icon/logo.png" alt="太安厅"></h4>
    <div class="col-md-10 col-md-offset-1 infoBox">
        <!-- FORM -->
        <form name="userForm" ng-submit="submitForm()" novalidate>
            <!-- novalidate prevents HTML5 validation since we will be validating ourselves -->
            <ul class="list-unstyled list-inline nav-tabs">
                <li class="active">
                    个人信息
                </li>
                <li>
                    学科选择
                </li>
                <li>
                    确认信息
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane clearfix active">
                    <!-- 用户名 -->
                    <div class="form-group col-md-6">
                        <label>用户名</label>
                        <input type="text" name="yonghuming" placeholder="用户名" tabindex="0" class="form-control" ng-pattern="userNameRegexp"
                               ng-minlength=4 ng-maxlength=30 ng-model="personalInfo.yonghuming" required autofocus="true"/>
                        <p ng-show="userForm.yonghuming.$error.required" class="help-block">用户名不能为空！</p>
                        <p ng-show="userForm.yonghuming.$error.pattern" class="help-block">用户名格式不正确！</p>
                    </div>

                    <!-- 密码 -->
                    <div class="form-group col-md-6">
                        <label>密码</label>
                        <input type="password" name="mima" placeholder="密码" tabindex="1" class="form-control regPassword"
                               ng-minlength=6 ng-maxlength=20 ng-model="personalInfo.mima" ng-pattern="passwordRegexp" required />
                        <p ng-show="userForm.mima.$error.required" class="help-block">密码不能为空！</p>
                        <p ng-show="userForm.mima.$error.pattern" class="help-block">密码格式不正确！</p>
                    </div>

                    <!-- 邮箱 -->
                    <div class="form-group col-md-6">
                        <label>邮箱</label>
                        <input type="email" name="youxiang" placeholder="邮箱" tabindex="3" class="form-control"
                               ng-model="personalInfo.youxiang" ng-pattern="emailRegexp" required/>
                        <p ng-show="userForm.youxiang.$error.required" class="help-block">邮箱不能为空！</p>
                        <p ng-show="userForm.youxiang.$error.pattern" class="help-block">请输入有效的邮箱地址！</p>
                    </div>

                    <!-- 确认密码 -->
                    <div class="form-group col-md-6">
                        <label>确认密码</label>
                        <input type="password" name="confirmPassword" ng-model="personalInfo.mima_verify"
                               data-password-verify="personalInfo.mima"
                               required placeholder="确认密码" tabindex="2" class="form-control" />
                        <!--<p class="help-block" ng-show="userForm.confirmPassword.$error.required">确认密码不能为空！</p>-->
                        <p class="help-block" ng-show="userForm.confirmPassword.$error.passwordVerify">确认密码和密码不匹配！</p>
                    </div>

                    <!-- 真实姓名 -->
                    <div class="form-group col-md-6">
                        <label>真实姓名</label>
                        <input type="text" name="xingming" placeholder="真实姓名" tabindex="4" class="form-control"
                               ng-minlength=2 ng-maxlength=30 ng-model="personalInfo.xingming" required />
                        <p class="help-block" ng-show="userForm.xingming.$error.required">真实姓名不能为空！</p>
                        <p ng-show="userForm.xingming.$error.minlength" class="help-block">真实姓名太短了！</p>
                        <p ng-show="userForm.xingming.$error.maxlength" class="help-block">真实姓名太长了!</p>
                    </div>

                    <!-- 手机号码 -->
                    <div class="form-group col-md-6">
                        <label>手机号码</label>
                        <input type="text" name="shouji" placeholder="手机号码" tabindex="5" class="form-control"
                               ng-pattern="/^[1][3458][0-9]{9}$/" ng-model="personalInfo.shouji" />
                        <p ng-show="userForm.shouji.$error.pattern" class="help-block">手机号码格式有误！</p>
                    </div>

                    <div class="form-group col-md-12 pull-left text-right">
                        <button type="button" ng-click="validatePersonalInfo()" ng-disabled="userForm.yonghuming.$invalid
                             || userForm.mima.$invalid || userForm.confirmPassword.$invalid || userForm.youxiang.$invalid
                             || userForm.xingming.$invalid" class="btn btn-success nextBtn">
                            下一步<span></span>
                        </button>
                    </div>
                </div>
                <div class="tab-pane clearfix">
                    <div class="form-group col-md-6 pull-left">
                        <label><span>机构类别</span><span class="msgBox">此项不能为空！</span></label>
                        <select ng-model="selected_jglb" class="form-control organization" ng-change="getJglist(selected_jglb)"
                                ng-options="lb.LEIBIE_ID as lb.LEIBIEMINGCHENG for lb in jigoulb_list">
                            <option value="">请选择</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6 pull-right">
                        <label><span>机构</span><span class="msgBox">此项不能为空！</span></label>
                        <select class="form-control subOrganization" ng-model="selected_jg" ng-change="getJgId(selected_jg)"
                                ng-options="jg.JIGOU_ID as jg.JIGOUMINGCHENG for jg in jigou_list">
                            <option value="">请选择</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12 pull-left">
                        <label><span>学科领域</span><span class="msgBox">此项不能为空！</span></label>
                        <select class="form-control myField" ng-model="selected_ly" ng-change="getKemuList(selected_ly)"
                                ng-options="ly.LINGYU_ID as ly.LINGYUMINGCHENG for ly in lingyu_list">
                            <option value="">请选择</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12 pull-left objectWrap" ng-show="selected_ly">
                        <div class="objectWrapSub">
                            <label class="msgLabel"><span>已选科目</span></label>
                            <p ng-hide="objAndRight.length">您还没有选择科目！请在下面勾选科目和权限。</p>
                            <div class="selectedObject">
                                <div class="selectedObjectBox pull-left">
                                    <div class="selectedObjectList pull-left" ng-repeat="oar in objAndRight">
                                        <div class="pull-left">
                                            <p class="kemumingcheng">
                                                <span>科目名称：</span>
                                                <span class="objectName">{{oar.lingyu[0].LINGYUMINGCHENG}}</span>
                                            </p>
                                            <p class="kemuquanxian">
                                                <span>角色：</span>
                                                <span class="rightName">{{oar.juese.jueseName.toString()}}</span>
                                            </p>
                                        </div>
                                        <div class="btn-can pull-right text-right">
                                            <button type="button" class="btn btn-danger" ng-click="delSelectedObject($index)">
                                                删除
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="objectToggleBox" ng-hide="!kemu_list.length">
                            <div class="form-group col-md-12">
                                <label>选择科目</label>
                                <div class="chooseObject">
                                    <label class="radio-inline" ng-repeat="km in kemu_list">
                                        <input type="radio" name="objectName" value="{{km.LINGYU_ID}}"
                                               ng-click="getLingYuVal($index)">
                                        <span>{{km.LINGYUMINGCHENG}}</span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <label>科目权限</label>
                                <div class="chooseRight">
                                    <label class="checkbox-inline" ng-repeat="js in juese_list">
                                        <input type="checkbox" name="rightName" value="{{js.JUESE_ID}}"
                                               ng-click="getJueSeArr($index)">
                                        <span>{{js.JUESEMINGCHENG}}</span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group col-md-12 text-right">
                                <button type="button" class="btn btn-primary" ng-disabled="!linyuValue || !jueseValue"
                                        ng-click="getObjectAndRight()">
                                    增加科目权限
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 pull-left">
                        <button type="button" class="btn btn-success prevBtn pull-left" ng-click="goToPersonInfo()">
                            上一步<span></span>
                        </button>
                        <button type="button" class="btn btn-success nextBtn pull-right" ng-click="goToSubmit()"
                                ng-disabled="!objAndRight.length || !selected_jg">
                            下一步<span></span>
                        </button>
                    </div>
                </div>
                <div class="tab-pane clearfix">
                    <div class="col-md-6">
                        <p>
                            注册信息
                        </p>
                        <p class="text-left">
                            <button type="button" class="btn btn-success prevBtn pull-left" ng-click="goToJueSe()">
                                上一步<span></span>
                            </button>
                        </p>
                    </div>
                    <div class="col-md-6">
                        <p>
                            您申请的学科职务需要通过该学科负责人审核之后才可生效，请及时通知学科负责人并耐心等待
                        </p>
                        <p class="text-right">
                            <button type="button" class="btn btn-success submitBtn" ng-click="submitRegisterInfo()">
                                提交<span></span>
                            </button>
                        </p>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>