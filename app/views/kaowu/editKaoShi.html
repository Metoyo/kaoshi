<div class="row editKaoShi">
  <div class="form-horizontal">
    <div class="form-group explain">
      <label class="col-sm-2 control-label"></label>
      <div class="col-sm-8">
        <em>带 <i>*</i>为必填项</em>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">考试名称<i>*</i></label>
      <div class="col-sm-6">
        <input type="text" name="ksName" class="form-control" placeholder="考试名称" required autofocus="true"
               ng-model="kaoshiData.shuju.KAOSHI_MINGCHENG"/>
      </div>
      <div class="col-sm-2">
        <p ng-show="kaoshiForm.ksName.$error.required" class="help-block">考试名称不能为空！</p>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">考试时长(分钟)<i>*</i></label>
      <div class="col-sm-2">
        <input type="text" name="ksTime" class="form-control" placeholder="时长" required maxlength="3"
               onkeyup="this.value=this.value.replace(/\D/g,'')" ng-model="kaoshiData.shuju.SHICHANG"
               onafterpaste="this.value=this.value.replace(/\D/g,'')" ng-blur="calculateEndDate()"/>
      </div>
      <div class="col-sm-2">
        <p ng-show="kaoshiForm.ksTime.$error.required" class="help-block">考试时长不能为空！</p>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">在线报名<i>*</i></label>
      <div class="col-sm-6">
        <label class="radio-inline">
          <input type="radio" value="true" ng-model="kwParams.baoMingMethod" ng-click="getBaoMingCont()"/>是
        </label>
        <label class="radio-inline">
          <input type="radio" value="false" ng-model="kwParams.baoMingMethod" ng-click="getBaoMingCont()"/>否
        </label>
      </div>
    </div>
    <!--在线报名-->
    <div class="form-group" ng-show="onlineBaoMing">
      <div class="row">
        <label class="col-sm-2 control-label">报名名单<i>*</i></label>
        <div class="col-sm-6">
          <h5 class="fz16">
            <a href="javascript:void(0)" ng-click="addStuByKxh()">课序号添加</a>
            <a href="javascript:void(0)" class="ml15" ng-click="addStuByExcel()">Excel导入</a>
          </h5>
        </div>
      </div>
      <div class="row">
        <h5 ng-show="studentsOrgData.length">
          <span>考生人数：{{studentsOrgData.length}}</span>
          <a href="javascript:void(0)" class="ml15" ng-click="showKaoShengList()">查看名单</a>
        </h5>
        <table class="table table-bordered">
          <tr>
            <th>时间场次</th>
            <th>考点（已选：5）</th>
            <th>试卷（已选：1）</th>
          </tr>
          <tr>
            <td>
              <ul class="list-unstyled h300">
                <li class="bdb mt10">
                  <p class="fz16">20150804</p>
                  <p class="fz14">
                    2套试卷，50人
                  </p>
                </li>
                <li class="bdb mt10">
                  <p class="fz16">20150804</p>
                  <p class="fz14">
                    2套试卷，50人
                  </p>
                </li>
              </ul>
            </td>
            <td>
              <div class="h300">
                <div class="checkbox" ng-repeat="kcInfo in allKaoChangList">
                  <label>
                    <input type="checkbox" value="kcInfo.KID" ng-checked="kcInfo.ckd"> {{kcInfo.KMINGCHENG}}
                  </label>
                </div>
              </div>
            </td>
            <td>
              <div class="h300">
                <div class="checkbox" ng-repeat="ks in papertListIds">
                  <label>
                    <input type="checkbox" value="ks.SHIJUAN_ID" ng-checked="ks.ckd"> {{ks.SHIJUANMINGCHENG}}
                  </label>
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div ng-if="showImportStuds==true">
          <table class="table table-bordered">
            <tr>
              <th>姓名</th>
              <th>学号</th>
              <th>班级</th>
              <th>课序号</th>
            </tr>
            <tr ng-repeat="stu in studentsOrgData">
              <td ng-bind="stu.XINGMING"></td>
              <td ng-bind="stu.YONGHUHAO"></td>
              <td ng-bind="stu.BANJI"></td>
              <td ng-bind="stu.KEXUHAO_MINGCHENG"></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <!--非在线报名-->
    <div class="form-group" ng-show="unOnlineBaoMing">
      <table class="table table-bordered">
        <tr>
          <th>时间场次</th>
          <th>考点</th>
          <th>试卷</th>
          <th>名单</th>
        </tr>
        <tr>
          <td>
            20150630
          </td>
          <td>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">清华大学电教一
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">清华大学电教二
              </label>
            </div>
          </td>
          <td>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">试卷一
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">试卷二
              </label>
            </div>
          </td>
          <td>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">王丽
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" value="">张立新
              </label>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <!-- 考生错误信息展示结束 -->
    <div class="save-box">
      <button type="button" class="btn btn-primary" ng-click="saveKaoShi()"
              ng-disabled="kwParams.saveKaoShiBtnStat">保存考试
      </button>
      <button type="button" class="btn btn-danger ml10" ng-click="showKaoShiList()">取消</button>
    </div>
  </div>
  <!--添加考生页面-->
  <div class="popup-wrap" ng-show="showAddStuBox">
    <div class="popup-wrap-inner">
      <div class="pwi-header plr10">
        <!--由课序号添加-->
        <div ng-show="isAddStuByKxh">
          <span class="title">由课序号添加考生</span>
          <button type="button" class="btn btn-primary pull-right mt5 ml15" ng-click="chaXunKxhYongHu()">确定</button>
          <button type="button" class="btn btn-danger pull-right mt5" ng-click="closeAddStuBox()">关闭</button>
        </div>
        <!--由Excel添加-->
        <div ng-hide="isAddStuByKxh">
          <span class="title">上传Excel文件添加考生</span>
          <button type="button" class="btn btn-primary pull-right mt5 ml15" ng-click="uploadXlsFile()">上传</button>
          <button type="button" class="btn btn-danger pull-right mt5" ng-click="closeAddStuBox()">关闭</button>
        </div>
      </div>
      <div class="pwi-body plr10">
        <!--由课序号添加-->
        <div ng-show="isAddStuByKxh">
          <ul class="list-unstyled pull-left wp100">
            <li class="bdbd ptb5 pull-left wp100" ng-repeat="kxh in keXuHaoData">
              <label class="keXuHao cursorPointer pull-left">
                <input type="checkbox" ng-click="pickOnKxh(kxh)" ng-checked="kxh.ckd"/> {{kxh.KEXUHAO_MINGCHENG}}
              </label>
              <span ng-bind="kxh.jiaoShiStr" class="ml10 pull-right"></span>
            </li>
          </ul>
        </div>
        <!--由Excel添加-->
        <div ng-hide="isAddStuByKxh">
          <form id="importStudentForm" class="mt15">
            <em> 请选择上传考生信息的文件，格式为Excel格式 </em>
            <input type="file" file-upload="" multiple="" class="pull-left hide addFileBtn">
            <button ng-click="addMyFile()" class="btn btn-default pull-left">添加文件</button>
          </form>
          <div class="mt15">
            <p ng-repeat="fl in uploadFiles track by $index">
              <span ng-bind="fl.name"></span>
              <span ng-bind="(fl.size/1024).toFixed(2) + 'KB'"></span>
            </p>
          </div>
        </div>
      </div>
      <div class="pwi-footer plr10 text-center">
        <!--由课序号添加-->
        <div ng-show="isAddStuByKxh">
          <div class="paging text-right" ng-if="keXuHaoPages.length>0">
            <ul class="pagination pagination-sm">
              <li ng-class="{disabled: currentKxhPageVal == 1}">
                <a href ng-click="keXuHaoDist(1)">首页</a>
              </li>
              <li ng-class="{disabled: currentKxhPageVal == 1}">
                <a href
                   ng-click="keXuHaoDist(prevPg = currentKxhPageVal > 1 ? currentKxhPageVal - 1 : 1)">
                  上一页
                </a>
              </li>
              <li ng-repeat="pg in keXuHaoPages" ng-class="{active: currentKxhPageVal == pg}">
                <a href ng-click="keXuHaoDist(pg)">{{pg}}</a>
              </li>
              <li ng-class="{disabled: currentKxhPageVal == lastKxhPageNum}">
                <a href
                   ng-click="keXuHaoDist(nextPg = currentKxhPageVal < lastKxhPageNum ? currentKxhPageVal + 1 : lastKxhPageNum)">
                  下一页
                </a>
              </li>
              <li ng-class="{disabled: currentKxhPageVal == lastKxhPageNum}">
                <a href ng-click="keXuHaoDist(lastKxhPageNum)">尾页</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 试卷选择 -->
  <!--<div class="popup-wrap" ng-show="showPopupBox">-->
    <!--<div class="popup-wrap-inner">-->
      <!--<div class="pwi-header plr10">-->
        <!--<button type="button" class="btn btn-danger pull-right mt5" ng-click="closePaperList()">关闭</button>-->
      <!--</div>-->
      <!--<div class="pwi-body plr10" ng-show="isShowPaperList">-->
        <!--<ul class="paper-list">-->
          <!--<li ng-repeat="pld in paperListData">-->
            <!--<div class="pull-left paper-name">-->
              <!--<a href="javascript:void(0)">-->
                <!--{{pld.SHIJUANMINGCHENG}}-->
              <!--</a>-->
            <!--</div>-->
            <!--<div class="pull-right paper-operate">-->
              <!--<button type="button" class="btn btn-primary" ng-click="showShiJuanInfo(pld.SHIJUAN_ID)">-->
                <!--详情-->
              <!--</button>-->
              <!--<button type="button" class="btn btn-primary gaiYao" bn-slide-show slid-show-tapon="gaiYao"-->
                      <!--slide-show-target="more-info" slide-show-text="概要" slide-show-idx="{{$index}}">-->
                <!--概要-->
              <!--</button>-->
              <!--<button type="button" class="btn btn-primary" ng-click="addToKaoShi(pld)">-->
                <!--添加到考试-->
              <!--</button>-->
            <!--</div>-->
            <!--<div class="more-info">-->
              <!--<p>-->
                <!--<span>出卷人：{{pld.chuangjianren}}</span>-->
                <!--<span>试卷难度：{{pld.NANDU.paperNanDu}}</span>-->
                <!--<span>出卷日期：{{pld.UPDATE_TIME | myLocalDate | date : 'yyyy-MM-dd'}}</span>-->
              <!--</p>-->
              <!--<p>-->
                <!--题型分布：-->
                  <!--<span ng-repeat="dati in pld.TIXING_DATA">-->
                      <!--{{tiXingNameArr[dati.TIXING_ID -1]}}:{{dati.COUNT}}-->
                  <!--</span>-->
              <!--</p>-->
              <!--<p>-->
                <!--题型难度：-->
                  <!--<span ng-repeat="nadu in pld.NANDU.daTiNanDuArr">-->
                      <!--{{tiXingNameArr[nadu.mubandati_id -1]}}:{{nadu.nanDu}}-->
                  <!--</span>-->
              <!--</p>-->
            <!--</div>-->
          <!--</li>-->
        <!--</ul>-->
      <!--</div>-->
      <!--<div class="pwi-footer plr10 text-center">-->
        <!--<ul class="pagination pagination-sm" ng-hide="!papertListIds">-->
          <!--<li ng-class="{disabled: currentPageVal == 1}">-->
            <!--<a href ng-click="getThisSjgyPageData(1)">首页</a>-->
          <!--</li>-->
          <!--<li ng-class="{disabled: currentPageVal == 1}">-->
            <!--<a href-->
               <!--ng-click="getThisSjgyPageData(prevPg = currentPageVal > 1 ? currentPageVal - 1 : 1)">-->
              <!--上一页-->
            <!--</a>-->
          <!--</li>-->
          <!--<li ng-repeat="pg in paperPages" ng-class="{active: currentPageVal == pg}">-->
            <!--<a href ng-click="getThisSjgyPageData(pg)">{{pg}}</a>-->
          <!--</li>-->
          <!--<li ng-class="{disabled: currentPageVal == lastPaperPageNum}">-->
            <!--<a href-->
               <!--ng-click="getThisSjgyPageData(nextPg = currentPageVal < lastPaperPageNum ? currentPageVal + 1 : lastPaperPageNum)">-->
              <!--下一页-->
            <!--</a>-->
          <!--</li>-->
          <!--<li ng-class="{disabled: currentPageVal == lastPaperPageNum}">-->
            <!--<a href ng-click="getThisSjgyPageData(lastPaperPageNum)">尾页</a>-->
          <!--</li>-->
        <!--</ul>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
  <!--&lt;!&ndash; 试卷详情的 &ndash;&gt;-->
  <!--<div class="popup-percent" ng-show="showPaperDetail" id="kaoWuPaperDetail">-->
    <!--<div class="popup-percent-inner">-->
      <!--<div>-->
        <!--<button type="button" class="btn btn-danger closePaperDetailBtn" ng-click="closePaperDetail()">-->
          <!--关闭-->
        <!--</button>-->
      <!--</div>-->
      <!--<div class="inner-box">-->
        <!--<h1 class="paper-title text-center hover-style">-->
                <!--<span class="sj-param-val">-->
                    <!--{{ paperDetail.SHIJUAN.SHIJUANMINGCHENG}}-->
                <!--</span>-->
        <!--</h1>-->
        <!--<h1 class="paper-sub-title text-center hover-style">-->
                <!--<span class="sj-param-val">-->
                    <!--{{ paperDetail.SHIJUAN.FUBIAOTI}}-->
                <!--</span>-->
        <!--</h1>-->
        <!--<div class="attention hover-style">-->
                <!--<span class="sj-param-val">-->
                    <!--{{ paperDetail.MUBAN.ZONGDAOYU}}-->
                <!--</span>-->
        <!--</div>-->
        <!--<div class="shijuantimu-list">-->
          <!--<div ng-repeat="mbdt in paperDetail.MUBANDATI" repeat-done>-->
            <!--<div class="mubandati">-->
              <!--<div class="dati-name-box">-->
                <!--<span>{{cnNumArr[$index]}}、</span>-->
                <!--<span class="dati-name">{{mbdt.DATIMINGCHENG}}</span>-->
              <!--</div>-->
              <!--<div class="dati-score-box">-->
                <!--<p>-->
                  <!--<span>（本大题共</span>-->
                  <!--<span class="xiaoti-total"> {{mbdt.TIMUARR.length}} </span>-->
                  <!--<span>小题，</span>-->
                <!--</p>-->
                <!--<p>-->
                  <!--<span>共</span>-->
                                <!--<span class="dati-total-score" ng-bind="mbdt.datiScore">-->
                                <!--</span>-->
                  <!--<span>分）</span>-->
                <!--</p>-->
              <!--</div>-->
            <!--</div>-->
            <!--<ul class="list-unstyled testList">-->
              <!--<li ng-repeat="tmd in mbdt.TIMUARR">-->
                <!--<div class="item-cont">-->
                  <!--<h3 class="item-tigan">-->
                    <!--<div class="item-score">-->
                      <!--<span ng-bind-html="($index + 1) + '、' + tmd.DETAIL.TIGAN.tiGan"></span>-->
                      <!--<span>-->
                          <!--{{'（本小题' + tmd.FENZHI + '分）'}}-->
                      <!--</span>-->
                    <!--</div>-->
                  <!--</h3>-->
                  <!--<div class="item-tizhi-wrap">-->
                    <!--<p class="item-tizhi" ng-repeat="tz in tmd.DETAIL.TIGAN.tiZhiNeiRong track by $index"-->
                       <!--ng-bind-html="'(' + letterArr[$index] + ') ' + tz">-->
                    <!--</p>-->
                  <!--</div>-->
                <!--</div>-->
              <!--</li>-->
            <!--</ul>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
</div>
